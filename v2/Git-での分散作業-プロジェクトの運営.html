<!DOCTYPE html>
<html lang="ja">

<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<head>

  <meta charset='utf-8'>
  



  <title>Git - プロジェクトの運営</title>

 
  

  <link rel="stylesheet" media="screen" href="../../../assets/git-scm-51dae02d97f150a7e22b24f0c7497beb.css" />
  

  <!--[if (gte IE 6)&(lte IE 8)]>
  
  <![endif]-->



</head>

<body id="documentation">

  <div class="inner">
    <header>
  <a href="http://git-scm.com/"><img src="../../../images/logo%402x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline">
    <em>--</em>everything-is-local
  </span>

  <form id="search" action="http://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>
</header>
  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="http://git-scm.com/about">About</a>
      </li>
      <li>
        <a class="active" href="http://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="http://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a href="http://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="http://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="http://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/blog">Blog</a>
      </li>
      <li>
        <a href="http://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="http://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="http://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>Download this book in <a href="https://progit2.s3.amazonaws.com/ja/2015-09-12-221ea/progit-ja.825.pdf">PDF</a>,
   <a href="https://progit2.s3.amazonaws.com/ja/2015-09-12-221ea/progit-ja.825.mobi" type="application/x-mobipocket-ebook">mobi</a>,
or <a href="https://progit2.s3.amazonaws.com/ja/2015-09-12-221ea/progit-ja.825.epub" type="application/epub+zip">ePub</a> form for free.</p>

  <p>
This book is translated into
  <a href="http://git-scm.com/book/de">Deutsch</a>,
  <a href="http://git-scm.com/book/zh">简体中文</a>,
  <a href="http://git-scm.com/book/zh-tw">正體中文</a>,
  <a href="http://git-scm.com/book/fr">Français</a>,
  <a href="http://git-scm.com/book/ja">日本語</a>,
  <a href="http://git-scm.com/book/nl">Nederlands</a>,
  <a href="http://git-scm.com/book/ru">Русский</a>,
  <a href="http://git-scm.com/book/ko">한국어</a>,
  <a href="http://git-scm.com/book/pt-br">Português (Brasil)</a> and
  <a href="http://git-scm.com/book/cs">Čeština</a>.
</p>
<p>
Partial translations available in
  <a href="http://git-scm.com/book/ar">Arabic</a>,
  <a href="http://git-scm.com/book/es">Español</a>,
  <a href="http://git-scm.com/book/id">Indonesian</a>,
  <a href="http://git-scm.com/book/it">Italiano</a>,
  <a href="http://git-scm.com/book/fi">Suomi</a>,
  <a href="http://git-scm.com/book/mk">Македонски</a>,
  <a href="http://git-scm.com/book/pl">Polski</a> and
  <a href="http://git-scm.com/book/tr">Türkçe</a>.
</p>
<p>
Translations started for
  <a href="http://git-scm.com/book/az">Azərbaycan dili</a>,
  <a href="http://git-scm.com/book/be">Беларуская</a>,
  <a href="http://git-scm.com/book/ca">Català</a>,
  <a href="http://git-scm.com/book/eo">Esperanto</a>,
  <a href="http://git-scm.com/book/es-ni">Español (Nicaragua)</a>,
  <a href="http://git-scm.com/book/fa" dir="rtl">فارسی</a>,
  <a href="http://git-scm.com/book/hi">हिन्दी</a>,
  <a href="http://git-scm.com/book/hu">Magyar</a>,
  <a href="http://git-scm.com/book/no-nb">Norwegian Bokmål</a>,
  <a href="http://git-scm.com/book/ro">Română</a>,
  <a href="http://git-scm.com/book/sr">Српски</a>,
  <a href="http://git-scm.com/book/th">ภาษาไทย</a>,
  <a href="http://git-scm.com/book/vi">Tiếng Việt</a>,
  <a href="http://git-scm.com/book/uk">Українська</a> and
  <a href="http://git-scm.com/book/uz/v2">Ўзбекча</a>.
</p>
<hr class="sidebar"/>
<p>
The source of this book is <a href="https://github.com/progit/progit2">hosted on GitHub.</a></br>
Patches, suggestions and comments are welcome.
</p>

  

  </nav>
</aside>
        <div id="content">
          

<div id='book-chapters'>
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="#">Chapters ▾</a>
<div class='dropdown-panel' id='chapters-dropdown'>
  <div class="three-column">
    <div class='column-left'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>1. <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e7%ae%a1%e7%90%86%e3%81%ab%e9%96%a2%e3%81%97%e3%81%a6.html">使い始める</a></h2>
    <ol>
          <li>
            1.1
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e7%ae%a1%e7%90%86%e3%81%ab%e9%96%a2%e3%81%97%e3%81%a6.html">バージョン管理に関して</a>
          </li>
          <li>
            1.2
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-Git%e7%95%a5%e5%8f%b2.html">Git略史</a>
          </li>
          <li>
            1.3
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-Git%e3%81%ae%e5%9f%ba%e6%9c%ac.html">Gitの基本</a>
          </li>
          <li>
            1.4
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%83%a9%e3%82%a4%e3%83%b3.html">コマンドライン</a>
          </li>
          <li>
            1.5
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-Git%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab.html">Gitのインストール</a>
          </li>
          <li>
            1.6
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e6%9c%80%e5%88%9d%e3%81%aeGit%e3%81%ae%e6%a7%8b%e6%88%90.html">最初のGitの構成</a>
          </li>
          <li>
            1.7
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e3%83%98%e3%83%ab%e3%83%97%e3%82%92%e8%a6%8b%e3%82%8b.html">ヘルプを見る</a>
          </li>
          <li>
            1.8
            <a href="%e4%bd%bf%e3%81%84%e5%a7%8b%e3%82%81%e3%82%8b-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>2. <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-Git-%e3%83%aa%e3%83%9d%e3%82%b8%e3%83%88%e3%83%aa%e3%81%ae%e5%8f%96%e5%be%97.html">Git の基本</a></h2>
    <ol>
          <li>
            2.1
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-Git-%e3%83%aa%e3%83%9d%e3%82%b8%e3%83%88%e3%83%aa%e3%81%ae%e5%8f%96%e5%be%97.html">Git リポジトリの取得</a>
          </li>
          <li>
            2.2
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e5%a4%89%e6%9b%b4%e5%86%85%e5%ae%b9%e3%81%ae%e3%83%aa%e3%83%9d%e3%82%b8%e3%83%88%e3%83%aa%e3%81%b8%e3%81%ae%e8%a8%98%e9%8c%b2.html">変更内容のリポジトリへの記録</a>
          </li>
          <li>
            2.3
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e3%82%b3%e3%83%9f%e3%83%83%e3%83%88%e5%b1%a5%e6%ad%b4%e3%81%ae%e9%96%b2%e8%a6%a7.html">コミット履歴の閲覧</a>
          </li>
          <li>
            2.4
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e4%bd%9c%e6%a5%ad%e3%81%ae%e3%82%84%e3%82%8a%e7%9b%b4%e3%81%97.html">作業のやり直し</a>
          </li>
          <li>
            2.5
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e3%83%aa%e3%83%a2%e3%83%bc%e3%83%88%e3%81%a7%e3%81%ae%e4%bd%9c%e6%a5%ad.html">リモートでの作業</a>
          </li>
          <li>
            2.6
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e3%82%bf%e3%82%b0.html">タグ</a>
          </li>
          <li>
            2.7
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-Git-%e3%82%a8%e3%82%a4%e3%83%aa%e3%82%a2%e3%82%b9.html">Git エイリアス</a>
          </li>
          <li>
            2.8
            <a href="Git-%e3%81%ae%e5%9f%ba%e6%9c%ac-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>3. <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%a8%e3%81%af.html">Git のブランチ機能</a></h2>
    <ol>
          <li>
            3.1
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%a8%e3%81%af.html">ブランチとは</a>
          </li>
          <li>
            3.2
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%a8%e3%83%9e%e3%83%bc%e3%82%b8%e3%81%ae%e5%9f%ba%e6%9c%ac.html">ブランチとマージの基本</a>
          </li>
          <li>
            3.3
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%ae%e7%ae%a1%e7%90%86.html">ブランチの管理</a>
          </li>
          <li>
            3.4
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%a7%e3%81%ae%e4%bd%9c%e6%a5%ad%e3%81%ae%e6%b5%81%e3%82%8c.html">ブランチでの作業の流れ</a>
          </li>
          <li>
            3.5
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%aa%e3%83%a2%e3%83%bc%e3%83%88%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81.html">リモートブランチ</a>
          </li>
          <li>
            3.6
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%83%aa%e3%83%99%e3%83%bc%e3%82%b9.html">リベース</a>
          </li>
          <li>
            3.7
            <a href="Git-%e3%81%ae%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e6%a9%9f%e8%83%bd-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>4. <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%83%97%e3%83%ad%e3%83%88%e3%82%b3%e3%83%ab.html">Gitサーバー</a></h2>
    <ol>
          <li>
            4.1
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%83%97%e3%83%ad%e3%83%88%e3%82%b3%e3%83%ab.html">プロトコル</a>
          </li>
          <li>
            4.2
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc%e7%94%a8%e3%81%ae-Git-%e3%81%ae%e5%8f%96%e5%be%97.html">サーバー用の Git の取得</a>
          </li>
          <li>
            4.3
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-SSH-%e5%85%ac%e9%96%8b%e9%8d%b5%e3%81%ae%e4%bd%9c%e6%88%90.html">SSH 公開鍵の作成</a>
          </li>
          <li>
            4.4
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc%e3%81%ae%e3%82%bb%e3%83%83%e3%83%88%e3%82%a2%e3%83%83%e3%83%97.html">サーバーのセットアップ</a>
          </li>
          <li>
            4.5
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-Git-%e3%83%87%e3%83%bc%e3%83%a2%e3%83%b3.html">Git デーモン</a>
          </li>
          <li>
            4.6
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-Smart-HTTP.html">Smart HTTP</a>
          </li>
          <li>
            4.7
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-GitWeb.html">GitWeb</a>
          </li>
          <li>
            4.8
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-GitLab.html">GitLab</a>
          </li>
          <li>
            4.9
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%82%b5%e3%83%bc%e3%83%89%e3%83%91%e3%83%bc%e3%83%86%e3%82%a3%e3%81%ab%e3%82%88%e3%82%8b-Git-%e3%83%9b%e3%82%b9%e3%83%86%e3%82%a3%e3%83%b3%e3%82%b0.html">サードパーティによる Git ホスティング</a>
          </li>
          <li>
            4.10
            <a href="Git%e3%82%b5%e3%83%bc%e3%83%90%e3%83%bc-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>5. <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad%e3%81%ae%e6%b5%81%e3%82%8c.html">Git での分散作業</a></h2>
    <ol>
          <li>
            5.1
            <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad%e3%81%ae%e6%b5%81%e3%82%8c.html">分散作業の流れ</a>
          </li>
          <li>
            5.2
            <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%b8%e3%81%ae%e8%b2%a2%e7%8c%ae.html">プロジェクトへの貢献</a>
          </li>
          <li>
            5.3
            <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e9%81%8b%e5%96%b6.html">プロジェクトの運営</a>
          </li>
          <li>
            5.4
            <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-middle'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>6. <a href="GitHub-%e3%82%a2%e3%82%ab%e3%82%a6%e3%83%b3%e3%83%88%e3%81%ae%e6%ba%96%e5%82%99%e3%81%a8%e8%a8%ad%e5%ae%9a.html">GitHub</a></h2>
    <ol>
          <li>
            6.1
            <a href="GitHub-%e3%82%a2%e3%82%ab%e3%82%a6%e3%83%b3%e3%83%88%e3%81%ae%e6%ba%96%e5%82%99%e3%81%a8%e8%a8%ad%e5%ae%9a.html">アカウントの準備と設定</a>
          </li>
          <li>
            6.2
            <a href="GitHub-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%b8%e3%81%ae%e8%b2%a2%e7%8c%ae.html">プロジェクトへの貢献</a>
          </li>
          <li>
            6.3
            <a href="GitHub-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e3%83%a1%e3%83%b3%e3%83%86%e3%83%8a%e3%83%b3%e3%82%b9.html">プロジェクトのメンテナンス</a>
          </li>
          <li>
            6.4
            <a href="GitHub-%e7%b5%84%e7%b9%94%e3%81%ae%e7%ae%a1%e7%90%86.html">組織の管理</a>
          </li>
          <li>
            6.5
            <a href="GitHub-%e3%82%b9%e3%82%af%e3%83%aa%e3%83%97%e3%83%88%e3%81%ab%e3%82%88%e3%82%8b-GitHub-%e3%81%ae%e6%93%8d%e4%bd%9c.html">スクリプトによる GitHub の操作</a>
          </li>
          <li>
            6.6
            <a href="GitHub-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>7. <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%83%aa%e3%83%93%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%ae%e9%81%b8%e6%8a%9e.html">Git のさまざまなツール</a></h2>
    <ol>
          <li>
            7.1
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%83%aa%e3%83%93%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%ae%e9%81%b8%e6%8a%9e.html">リビジョンの選択</a>
          </li>
          <li>
            7.2
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e5%af%be%e8%a9%b1%e7%9a%84%e3%81%aa%e3%82%b9%e3%83%86%e3%83%bc%e3%82%b8%e3%83%b3%e3%82%b0.html">対話的なステージング</a>
          </li>
          <li>
            7.3
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e4%bd%9c%e6%a5%ad%e3%81%ae%e9%9a%a0%e3%81%97%e3%81%8b%e3%81%9f%e3%81%a8%e6%b6%88%e3%81%97%e3%81%8b%e3%81%9f.html">作業の隠しかたと消しかた</a>
          </li>
          <li>
            7.4
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e4%bd%9c%e6%a5%ad%e5%86%85%e5%ae%b9%e3%81%b8%e3%81%ae%e7%bd%b2%e5%90%8d.html">作業内容への署名</a>
          </li>
          <li>
            7.5
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e6%a4%9c%e7%b4%a2.html">検索</a>
          </li>
          <li>
            7.6
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e6%ad%b4%e5%8f%b2%e3%81%ae%e6%9b%b8%e3%81%8d%e6%8f%9b%e3%81%88.html">歴史の書き換え</a>
          </li>
          <li>
            7.7
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%83%aa%e3%82%bb%e3%83%83%e3%83%88%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e8%a9%b3%e8%aa%ac.html">リセットコマンド詳説</a>
          </li>
          <li>
            7.8
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e9%ab%98%e5%ba%a6%e3%81%aa%e3%83%9e%e3%83%bc%e3%82%b8%e6%89%8b%e6%b3%95.html">高度なマージ手法</a>
          </li>
          <li>
            7.9
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-Rerere.html">Rerere</a>
          </li>
          <li>
            7.10
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-Git-%e3%81%ab%e3%82%88%e3%82%8b%e3%83%87%e3%83%90%e3%83%83%e3%82%b0.html">Git によるデバッグ</a>
          </li>
          <li>
            7.11
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%82%b5%e3%83%96%e3%83%a2%e3%82%b8%e3%83%a5%e3%83%bc%e3%83%ab.html">サブモジュール</a>
          </li>
          <li>
            7.12
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%83%90%e3%83%b3%e3%83%89%e3%83%ab%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%81%ae%e4%bd%9c%e6%88%90.html">バンドルファイルの作成</a>
          </li>
          <li>
            7.13
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-Git-%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e7%bd%ae%e3%81%8d%e6%8f%9b%e3%81%88.html">Git オブジェクトの置き換え</a>
          </li>
          <li>
            7.14
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e8%aa%8d%e8%a8%bc%e6%83%85%e5%a0%b1%e3%81%ae%e4%bf%9d%e5%ad%98.html">認証情報の保存</a>
          </li>
          <li>
            7.15
            <a href="Git-%e3%81%ae%e3%81%95%e3%81%be%e3%81%96%e3%81%be%e3%81%aa%e3%83%84%e3%83%bc%e3%83%ab-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>8. <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-Git-%e3%81%ae%e8%a8%ad%e5%ae%9a.html">Git のカスタマイズ</a></h2>
    <ol>
          <li>
            8.1
            <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-Git-%e3%81%ae%e8%a8%ad%e5%ae%9a.html">Git の設定</a>
          </li>
          <li>
            8.2
            <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-Git-%e3%81%ae%e5%b1%9e%e6%80%a7.html">Git の属性</a>
          </li>
          <li>
            8.3
            <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-Git-%e3%83%95%e3%83%83%e3%82%af.html">Git フック</a>
          </li>
          <li>
            8.4
            <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-Git-%e3%83%9d%e3%83%aa%e3%82%b7%e3%83%bc%e3%81%ae%e5%ae%9f%e6%96%bd%e4%be%8b.html">Git ポリシーの実施例</a>
          </li>
          <li>
            8.5
            <a href="Git-%e3%81%ae%e3%82%ab%e3%82%b9%e3%82%bf%e3%83%9e%e3%82%a4%e3%82%ba-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>9. <a href="Git%e3%81%a8%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e3%81%ae%e9%80%a3%e6%90%ba-Git-%e3%82%92%e3%82%af%e3%83%a9%e3%82%a4%e3%82%a2%e3%83%b3%e3%83%88%e3%81%a8%e3%81%97%e3%81%a6%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b.html">Gitとその他のシステムの連携</a></h2>
    <ol>
          <li>
            9.1
            <a href="Git%e3%81%a8%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e3%81%ae%e9%80%a3%e6%90%ba-Git-%e3%82%92%e3%82%af%e3%83%a9%e3%82%a4%e3%82%a2%e3%83%b3%e3%83%88%e3%81%a8%e3%81%97%e3%81%a6%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b.html">Git をクライアントとして使用する</a>
          </li>
          <li>
            9.2
            <a href="Git%e3%81%a8%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e3%81%ae%e9%80%a3%e6%90%ba-Git-%e3%81%b8%e7%a7%bb%e8%a1%8c%e3%81%99%e3%82%8b.html">Git へ移行する</a>
          </li>
          <li>
            9.3
            <a href="Git%e3%81%a8%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e3%81%ae%e9%80%a3%e6%90%ba-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>10. <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e9%85%8d%e7%ae%a1%ef%bc%88Plumbing%ef%bc%89%e3%81%a8%e7%a3%81%e5%99%a8%ef%bc%88Porcelain%ef%bc%89.html">Gitの内側</a></h2>
    <ol>
          <li>
            10.1
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e9%85%8d%e7%ae%a1%ef%bc%88Plumbing%ef%bc%89%e3%81%a8%e7%a3%81%e5%99%a8%ef%bc%88Porcelain%ef%bc%89.html">配管（Plumbing）と磁器（Porcelain）</a>
          </li>
          <li>
            10.2
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-Git%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88.html">Gitオブジェクト</a>
          </li>
          <li>
            10.3
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-Git%e3%81%ae%e5%8f%82%e7%85%a7.html">Gitの参照</a>
          </li>
          <li>
            10.4
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e3%83%91%e3%83%83%e3%82%af%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab.html">パックファイル</a>
          </li>
          <li>
            10.5
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e5%8f%82%e7%85%a7%e4%bb%95%e6%a7%98%ef%bc%88Refspec%ef%bc%89.html">参照仕様（Refspec）</a>
          </li>
          <li>
            10.6
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b9%e3%83%95%e3%82%a1%e3%83%bc%e3%83%97%e3%83%ad%e3%83%88%e3%82%b3%e3%83%ab.html">トランスファープロトコル</a>
          </li>
          <li>
            10.7
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e3%83%a1%e3%82%a4%e3%83%b3%e3%83%86%e3%83%8a%e3%83%b3%e3%82%b9%e3%81%a8%e3%83%87%e3%83%bc%e3%82%bf%e3%83%aa%e3%82%ab%e3%83%90%e3%83%aa.html">メインテナンスとデータリカバリ</a>
          </li>
          <li>
            10.8
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e7%92%b0%e5%a2%83%e5%a4%89%e6%95%b0.html">環境変数</a>
          </li>
          <li>
            10.9
            <a href="Git%e3%81%ae%e5%86%85%e5%81%b4-%e8%a6%81%e7%b4%84.html">要約</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-right'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>A1. <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-%e3%82%b0%e3%83%a9%e3%83%95%e3%82%a3%e3%82%ab%e3%83%ab%e3%82%a4%e3%83%b3%e3%82%bf%e3%83%95%e3%82%a7%e3%83%bc%e3%82%b9.html">その他の環境でのGit</a></h2>
    <ol>
          <li>
            A1.1
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-%e3%82%b0%e3%83%a9%e3%83%95%e3%82%a3%e3%82%ab%e3%83%ab%e3%82%a4%e3%83%b3%e3%82%bf%e3%83%95%e3%82%a7%e3%83%bc%e3%82%b9.html">グラフィカルインタフェース</a>
          </li>
          <li>
            A1.2
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-Visual-Studio%e3%81%a7Git%e3%82%92%e4%bd%bf%e3%81%86.html">Visual StudioでGitを使う</a>
          </li>
          <li>
            A1.3
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-Eclipse%e3%81%a7Git%e3%82%92%e4%bd%bf%e3%81%86.html">EclipseでGitを使う</a>
          </li>
          <li>
            A1.4
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-Bash%e3%81%a7Git%e3%82%92%e4%bd%bf%e3%81%86.html">BashでGitを使う</a>
          </li>
          <li>
            A1.5
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-Zsh%e3%81%a7Git%e3%82%92%e4%bd%bf%e3%81%86.html">ZshでGitを使う</a>
          </li>
          <li>
            A1.6
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-Powershell%e3%81%a7Git%e3%82%92%e4%bd%bf%e3%81%86.html">PowershellでGitを使う</a>
          </li>
          <li>
            A1.7
            <a href="%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e7%92%b0%e5%a2%83%e3%81%a7%e3%81%aeGit-%e3%81%be%e3%81%a8%e3%82%81.html">まとめ</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A2. <a href="Git%e3%82%92%e3%81%82%e3%81%aa%e3%81%9f%e3%81%ae%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ab%e7%b5%84%e3%81%bf%e8%be%bc%e3%82%80-Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%83%a9%e3%82%a4%e3%83%b3%e3%83%84%e3%83%bc%e3%83%ab%e3%82%92%e4%bd%bf%e3%81%86%e6%96%b9%e6%b3%95.html">Gitをあなたのアプリケーションに組み込む</a></h2>
    <ol>
          <li>
            A2.1
            <a href="Git%e3%82%92%e3%81%82%e3%81%aa%e3%81%9f%e3%81%ae%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ab%e7%b5%84%e3%81%bf%e8%be%bc%e3%82%80-Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%83%a9%e3%82%a4%e3%83%b3%e3%83%84%e3%83%bc%e3%83%ab%e3%82%92%e4%bd%bf%e3%81%86%e6%96%b9%e6%b3%95.html">Gitのコマンドラインツールを使う方法</a>
          </li>
          <li>
            A2.2
            <a href="Git%e3%82%92%e3%81%82%e3%81%aa%e3%81%9f%e3%81%ae%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ab%e7%b5%84%e3%81%bf%e8%be%bc%e3%82%80-Libgit2%e3%82%92%e4%bd%bf%e3%81%86%e6%96%b9%e6%b3%95.html">Libgit2を使う方法</a>
          </li>
          <li>
            A2.3
            <a href="Git%e3%82%92%e3%81%82%e3%81%aa%e3%81%9f%e3%81%ae%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ab%e7%b5%84%e3%81%bf%e8%be%bc%e3%82%80-JGit.html">JGit</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A3. <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%82%bb%e3%83%83%e3%83%88%e3%82%a2%e3%83%83%e3%83%97%e3%81%a8%e8%a8%ad%e5%ae%9a.html">Gitのコマンド</a></h2>
    <ol>
          <li>
            A3.1
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%82%bb%e3%83%83%e3%83%88%e3%82%a2%e3%83%83%e3%83%97%e3%81%a8%e8%a8%ad%e5%ae%9a.html">セットアップと設定</a>
          </li>
          <li>
            A3.2
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e5%8f%96%e5%be%97%e3%81%a8%e4%bd%9c%e6%88%90.html">プロジェクトの取得と作成</a>
          </li>
          <li>
            A3.3
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e5%9f%ba%e6%9c%ac%e7%9a%84%e3%81%aa%e3%82%b9%e3%83%8a%e3%83%83%e3%83%97%e3%82%b7%e3%83%a7%e3%83%83%e3%83%88.html">基本的なスナップショット</a>
          </li>
          <li>
            A3.4
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%96%e3%83%a9%e3%83%b3%e3%83%81%e3%81%a8%e3%83%9e%e3%83%bc%e3%82%b8.html">ブランチとマージ</a>
          </li>
          <li>
            A3.5
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e5%85%b1%e6%9c%89%e3%81%a8%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88.html">プロジェクトの共有とアップデート</a>
          </li>
          <li>
            A3.6
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e6%a4%9c%e6%9f%bb%e3%81%a8%e6%af%94%e8%bc%83.html">検査と比較</a>
          </li>
          <li>
            A3.7
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%87%e3%83%90%e3%83%83%e3%82%b0.html">デバッグ</a>
          </li>
          <li>
            A3.8
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%91%e3%83%83%e3%83%81%e3%81%ae%e9%81%a9%e7%94%a8.html">パッチの適用</a>
          </li>
          <li>
            A3.9
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%83%a1%e3%83%bc%e3%83%ab.html">メール</a>
          </li>
          <li>
            A3.10
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e5%a4%96%e9%83%a8%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0.html">外部システム</a>
          </li>
          <li>
            A3.11
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e7%ae%a1%e7%90%86.html">システム管理</a>
          </li>
          <li>
            A3.12
            <a href="Git%e3%81%ae%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89-%e9%85%8d%e7%ae%a1%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89.html">配管コマンド</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
  </div>
 </div>

    <span class="light" id="edition">
      2nd Edition
    </span>
</div>

<div id='main' class="book edition2">
    <h1>5.3 Git での分散作業 - プロジェクトの運営</h1>
  <div><a id="-o9IBTd"></a><h2>プロジェクトの運営</h2>

<p><a data-type="indexterm" data-primary="maintaining a project" id="id-G6U2sJtbT3"></a></p>

<p>プロジェクトに貢献する方法だけでなく、プロジェクトを運営する方法についても知っておくといいでしょう。
たとえば <code>format-patch</code> を使ってメールで送られてきたパッチを処理する方法や、別のリポジトリのリモートブランチでの変更を統合する方法などです。
本流のリポジトリを保守するにせよパッチの検証や適用を手伝うにせよ、どうすれば貢献者たちにとってわかりやすくなるかを知っておくべきでしょう。</p>








<section data-type="sect2" id="-kgIMc1Td"><h3 id="トピックブランチでの作業"><a href="#トピックブランチでの作業">トピックブランチでの作業</a></h3>

<p><a data-type="indexterm" data-primary="branches" data-secondary="topic" id="id-1PUGsLtEc5To"></a></p>

<p>新しい機能を組み込もうと考えている場合は、トピックブランチを作ることをおすすめします。トピックブランチとは、新しく作業を始めるときに一時的に作るブランチのことです。
そうすれば、そのパッチだけを個別にいじることができ、もしうまくいかなかったとしてもすぐに元の状態に戻すことができます。
ブランチの名前は、今からやろうとしている作業の内容にあわせたシンプルな名前にしておきます。たとえば <code>ruby_client</code> などといったものです。そうすれば、しばらく時間をおいた後でそれを廃棄することになったときに、内容を思い出しやすくなります。
Git プロジェクトのメンテナは、ブランチ名に名前空間を使うことが多いようです。たとえば <code>sc/ruby_client</code> のようになり、ここでの <code>sc</code> はその作業をしてくれた人の名前を短縮したものとなります。
自分の master ブランチをもとにしたブランチを作成する方法は、このようになります。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git branch sc/ruby_client master
</pre>

<p>作成してすぐそのブランチに切り替えたい場合は、<code>checkout -b</code> オプションを使います。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git checkout -b sc/ruby_client master
</pre>

<p>受け取った作業はこのトピックブランチですすめ、長期ブランチに統合するかどうかを判断することになります。</p>
</section><section data-type="sect2" id="_patches_from_email"><h3 id="メールで受け取ったパッチの適用"><a href="#メールで受け取ったパッチの適用">メールで受け取ったパッチの適用</a></h3>

<p><a data-type="indexterm" data-primary="email" data-secondary="applying patches from" id="id-xbUDs6tMH3TR"></a></p>

<p>あなたのプロジェクトへのパッチをメールで受け取った場合は、まずそれをトピックブランチに適用して中身を検証します。
メールで届いたパッチを適用するには <code>git apply</code> と <code>git am</code> の二通りの方法があります。</p>










<section data-type="sect3" id="apply-mzIBcxHRTo"><h4>apply によるパッチの適用</h4>

<p><a data-type="indexterm" data-primary="git commands" data-secondary="apply" id="id-ewUjsGtWc6H3Ty"></a></p>

<p><code>git diff</code> あるいは Unix の <code>diff</code> コマンドで作ったパッチ（パッチの作り方としては推奨できません。次節で理由を説明します）を受け取ったときは、<code>git apply</code> コマンドを使ってパッチを適用します。
パッチが <code>/tmp/patch-ruby-client.patch</code> にあるとすると、このようにすればパッチを適用できます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git apply /tmp/patch-ruby-client.patch
</pre>

<p>これは、作業ディレクトリ内のファイルを変更します。
<code>patch -p1</code> コマンドでパッチをあてるのとほぼ同じなのですが、それ以上に「これでもか」というほどのこだわりを持ってパッチを適用するので fuzzy マッチになる可能性が少なくなります。
また、<code>git diff</code> 形式ではファイルの追加・削除やファイル名の変更も扱うことができますが、<code>patch</code> コマンドにはそれはできません。
そして最後に、<code>git apply</code> は「全部適用するか、あるいは一切適用しないか」というモデルを採用しています。一方 <code>patch</code> コマンドの場合は、途中までパッチがあたった中途半端な状態になって困ることがあります。
<code>git apply</code> のほうが、 <code>patch</code> よりも慎重に処理を行うのです。
<code>git apply</code> コマンドはコミットを作成するわけではありません。実行した後で、その変更をステージしてコミットする必要があります。</p>

<p>git apply を使って、そのパッチをきちんと適用できるかどうかを事前に確かめることができます。パッチをチェックするには <code>git apply --check</code> を実行します。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git apply --check 0001-seeing-if-this-helps-the-gem.patch
<code class="go">error: patch failed: ticgit.gemspec:1</code>
<code class="go">error: ticgit.gemspec: patch does not apply</code>
</pre>

<p>何も出力されなければ、そのパッチはうまく適用できるということです。
このコマンドは、チェックに失敗した場合にゼロ以外の値を返して終了します。スクリプト内でチェックしたい場合などにはこの返り値を使用します。</p>
</section><section data-type="sect3" id="_git_am"><h4>
<code>am</code> でのパッチの適用</h4>

<p><a data-type="indexterm" data-primary="git commands" data-secondary="am" id="id-RbUVsXtZHWHJTy"></a></p>

<p>コードを提供してくれた人が Git のユーザーで、<code>format-patch</code> コマンドを使ってパッチを送ってくれたとしましょう。この場合、あなたの作業はより簡単になります。パッチの中に、作者の情報やコミットメッセージも含まれているからです。
「パッチを作るときには、できるだけ <code>diff</code> ではなく <code>format-patch</code> を使ってね」とお願いしてみるのもいいでしょう。
昔ながらの形式のパッチが届いたときだけは <code>git apply</code> を使わなければならなくなります。</p>

<p><code>format-patch</code> で作ったパッチを適用するには <code>git am</code> を使います。技術的なお話をすると、<code>git am</code> は mbox ファイルを読み込む仕組みになっています。mbox はシンプルなプレーンテキスト形式で、一通あるいは複数のメールのメッセージをひとつのテキストファイルにまとめるためのものです。中身はこのようになります。</p>

<pre data-type="programlisting" data-code-language="console"><code class="go">From 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001</code>
<code class="go">From: Jessica Smith &lt;jessica@example.com&gt;</code>
<code class="go">Date: Sun, 6 Apr 2008 10:17:23 -0700</code>
<code class="go">Subject: [PATCH 1/2] add limit to log function</code>

<code class="go">Limit log functionality to the first 20</code>
</pre>

<p>先ほどのセクションでごらんいただいたように、format-patch コマンドの出力結果もこれと同じ形式で始まっていますね。
これは、mbox 形式のメールフォーマットとしても正しいものです。
git send-email を正しく使ったパッチが送られてきた場合、受け取ったメールを mbox 形式で保存して git am コマンドでそのファイルを指定すると、すべてのパッチの適用が始まります。
複数のメールをまとめてひとつの mbox に保存できるメールソフトを使っていれば、送られてきたパッチをひとつのファイルにまとめて git am で一度に適用することもできます。</p>

<p>しかし、<code>format-patch</code> で作ったパッチがチケットシステム (あるいはそれに類する何か) にアップロードされたような場合は、まずそのファイルをローカルに保存して、それを <code>git am</code> に渡すことになります。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git am 0001-limit-log-function.patch
<code class="go">Applying: add limit to log function</code>
</pre>

<p>どんなパッチを適用したのかが表示され、コミットも自動的に作られます。作者の情報はメールの <code>From</code> ヘッダと <code>Date</code> ヘッダから取得し、コミットメッセージは <code>Subject</code> とメールの本文 (パッチより前の部分) から取得します。たとえば、先ほどごらんいただいた mbox の例にあるパッチを適用した場合は次のようなコミットとなります。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git log --pretty<code class="o">=</code>fuller -1
<code class="go">commit 6c5e70b984a60b3cecd395edd5b48a7575bf58e0</code>
<code class="go">Author:     Jessica Smith &lt;jessica@example.com&gt;</code>
<code class="go">AuthorDate: Sun Apr 6 10:17:23 2008 -0700</code>
<code class="go">Commit:     Scott Chacon &lt;schacon@gmail.com&gt;</code>
<code class="go">CommitDate: Thu Apr 9 09:19:06 2009 -0700</code>

<code class="go">   add limit to log function</code>

<code class="go">   Limit log functionality to the first 20</code>
</pre>

<p><code>Commit</code> には、そのパッチを適用した人と適用した日時が表示されます。
<code>Author</code> には、そのパッチを実際に作成した人と作成した日時が表示されます。</p>

<p>しかし、パッチが常にうまく適用できるとは限りません。
パッチを作成したときの状態と現在のメインブランチとが大きくかけ離れてしまっていたり、そのパッチが別の (まだ適用していない) パッチに依存していたりなどといったことがあり得るでしょう。
そんな場合は <code>git am</code> は失敗し、次にどうするかを聞かれます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git am 0001-seeing-if-this-helps-the-gem.patch
<code class="go">Applying: seeing if this helps the gem</code>
<code class="go">error: patch failed: ticgit.gemspec:1</code>
<code class="go">error: ticgit.gemspec: patch does not apply</code>
<code class="go">Patch failed at 0001.</code>
<code class="go">When you have resolved this problem run "git am --resolved".</code>
<code class="go">If you would prefer to skip this patch, instead run "git am --skip".</code>
<code class="go">To restore the original branch and stop patching run "git am --abort".</code>
</pre>

<p>このコマンドは、何か問題が発生したファイルについて衝突マークを書き込みます。これは、マージやリベースに失敗したときに書き込まれるのとよく似たものです。
問題を解決する方法も同じです。まずはファイルを編集して衝突を解決し、新しいファイルをステージし、<code>git am --resolved</code> を実行して次のパッチに進みます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> （ファイルを編集する）
<code class="gp">$</code> git add ticgit.gemspec
<code class="gp">$</code> git am --resolved
<code class="go">Applying: seeing if this helps the gem</code>
</pre>

<p>Git にもうちょっと賢く働いてもらって衝突を回避したい場合は、<code>-3</code> オプションを使用します。これは、Git で三方向のマージを行うオプションです。
このオプションはデフォルトでは有効になっていません。適用するパッチの元になっているコミットがあなたのリポジトリ上のものでない場合に正しく動作しないからです。
パッチの元になっているコミットが手元にある場合は、<code>-3</code> オプションを使うと、衝突しているパッチをうまく適用できます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git am -3 0001-seeing-if-this-helps-the-gem.patch
<code class="go">Applying: seeing if this helps the gem</code>
<code class="go">error: patch failed: ticgit.gemspec:1</code>
<code class="go">error: ticgit.gemspec: patch does not apply</code>
<code class="go">Using index info to reconstruct a base tree...</code>
<code class="go">Falling back to patching base and 3-way merge...</code>
<code class="go">No changes -- Patch already applied.</code>
</pre>

<p>ここでは、既に適用済みのパッチを適用してみました。
<code>-3</code> オプションがなければ、衝突が発生していたことでしょう。</p>

<p>たくさんのパッチが含まれる mbox からパッチを適用するときには、<code>am</code> コマンドを対話モードで実行することもできます。パッチが見つかるたびに処理を止め、それを適用するかどうかの確認を求められます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git am -3 -i mbox
<code class="go">Commit Body is:</code>
<code class="go">--------------------------</code>
<code class="go">seeing if this helps the gem</code>
<code class="go">--------------------------</code>
<code class="go">Apply? [y]es/[n]o/[e]dit/[v]iew patch/[a]ccept all</code>
</pre>

<p>これは、「大量にあるパッチについて、内容をまず一通り確認したい」「既に適用済みのパッチは適用しないようにしたい」などの場合に便利です。</p>

<p>トピックブランチ上でそのトピックに関するすべてのパッチの適用を済ませてコミットすれば、次はそれを長期ブランチに統合するかどうか (そしてどのように統合するか) を考えることになります。</p>
</section></section><section data-type="sect2" id="_checking_out_remotes"><h3 id="リモートブランチのチェックアウト"><a href="#リモートブランチのチェックアウト">リモートブランチのチェックアウト</a></h3>

<p><a data-type="indexterm" data-primary="branches" data-secondary="remote" id="id-jVUGs0t6uxT6"></a></p>

<p>自前のリポジトリを持つ Git ユーザーが自分のリポジトリに変更をプッシュし、そのリポジトリの URL とリモートブランチ名だけをあなたにメールで連絡してきた場合のことを考えてみましょう。そのリポジトリをリモートとして登録し、それをローカルにマージすることになります。</p>

<p>Jessica から「すばらしい新機能を作ったので、私のリポジトリの <code>ruby-client</code> ブランチを見てください」といったメールが来たとします。これを手元でテストするには、リモートとしてこのリポジトリを追加し、ローカルにブランチをチェックアウトします。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git remote add jessica git://github.com/jessica/myproject.git
<code class="gp">$</code> git fetch jessica
<code class="gp">$</code> git checkout -b rubyclient jessica/ruby-client
</pre>

<p>「この前のとは違う、別のすばらしい機能を作ったの!」と別のブランチを伝えられた場合は、すでにリモートの設定が済んでいるので単にそのブランチを取得してチェックアウトするだけで確認できます。</p>

<p>この方法は、誰かと継続的に共同作業を進めていく際に便利です。
ちょっとしたパッチをたまに提供してくれるだけの人の場合は、パッチをメールで受け取るようにしたほうが時間の節約になるでしょう。全員に自前のサーバーを用意させて、たまに送られてくるパッチを取得するためだけに定期的にリモートの追加と削除を行うなどというのは時間の無駄です。
ほんの数件のパッチを提供してくれる人たちを含めて数百ものリモートを管理することなど、きっとあなたはお望みではないでしょう。
しかし、スクリプトやホスティングサービスを使えばこの手の作業は楽になります。つまり、どのような方式をとるかは、あなたや他のメンバーがどのような方式で開発を進めるかによって決まります。</p>

<p>この方式のもうひとつの利点は、コミットの履歴も同時に取得できるということです。
マージの際に問題が起こることもあるでしょうが、そんな場合にも相手の作業が自分側のどの地点に基づくものなのかを知ることができます。適切に三方向のマージが行われるので、<code>-3</code> を指定したときに「このパッチの基点となるコミットにアクセスできればいいなぁ」と祈る必要はありません。</p>

<p>継続的に共同作業を続けるわけではないけれど、それでもこの方式でパッチを取得したいという場合は、リモートリポジトリの URL を <code>git pull</code> コマンドで指定することもできます。
これは一度きりのプルに使うものであり、リモートを参照する URL は保存されません。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git pull https://github.com/onetimeguy/project
<code class="go">From https://github.com/onetimeguy/project</code>
<code class="go"> * branch            HEAD       -&gt; FETCH_HEAD</code>
<code class="go">Merge made by recursive.</code>
</pre>
</section><section data-type="sect2" id="_what_is_introduced"><h3 id="何が変わるのかの把握"><a href="#何が変わるのかの把握">何が変わるのかの把握</a></h3>

<p><a data-type="indexterm" data-primary="branches" data-secondary="diffing" id="id-bgUPs5tKT8T6"></a></p>

<p>トピックブランチの中に、提供してもらった作業が含まれた状態になりました。
次に何をすればいいのか考えてみましょう。
このセクションでは、これまでに扱ったいくつかのコマンドを復習します。それらを使って、もしこの変更をメインブランチにマージしたらいったい何が起こるのかを調べていきましょう。</p>

<p>トピックブランチのコミットのうち、master ブランチに存在しないコミットの内容をひとつひとつレビューできれば便利でしょう。
master ブランチに含まれるコミットを除外するには、ブランチ名の前に <code>--not</code> オプションを指定します。
これは、これまで使ってきた <code>master..contrib</code> という書式と同じ役割を果たしてくれます。
たとえば、誰かから受け取った二つのパッチを適用するために <code>contrib</code> というブランチを作成したとすると、</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git log contrib --not master
<code class="go">commit 5b6235bd297351589efc4d73316f0a68d484f118</code>
<code class="go">Author: Scott Chacon &lt;schacon@gmail.com&gt;</code>
<code class="go">Date:   Fri Oct 24 09:53:59 2008 -0700</code>

<code class="go">    seeing if this helps the gem</code>

<code class="go">commit 7482e0d16d04bea79d0dba8988cc78df655f16a0</code>
<code class="go">Author: Scott Chacon &lt;schacon@gmail.com&gt;</code>
<code class="go">Date:   Mon Oct 22 19:38:36 2008 -0700</code>

<code class="go">    updated the gemspec to hopefully work better</code>
</pre>

<p>このようなコマンドを実行すればそれぞれのコミットの内容を確認できます。<code>git log</code> に <code>-p</code> オプションを渡せば、コミットの後に diff を表示させることもできます。これも以前に説明しましたね。</p>

<p>このトピックブランチを別のブランチにマージしたときに何が起こるのかを完全な diff で知りたい場合は、ちょっとした裏技を使わないと正しい結果が得られません。
おそらく「こんなコマンドを実行するだけじゃないの?」と考えておられることでしょう。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git diff master
</pre>

<p>このコマンドで表示される diff は、誤解を招きかねないものです。
トピックブランチを切った時点からさらに <code>master</code> ブランチが先に進んでいたとすると、これは少し奇妙に見える結果を返します。
というのも、Git は現在のトピックブランチの最新のコミットのスナップショットと <code>master</code> ブランチの最新のコミットのスナップショットを直接比較するからです。
トピックブランチを切った後に <code>master</code> ブランチ上であるファイルに行を追加したとすると、スナップショットを比較した結果は「トピックブランチでその行を削除しようとしている」状態になります。</p>

<p><code>master</code> がトピックブランチの直系の先祖である場合は、これは特に問題とはなりません。しかし二つの歴史が分岐している場合には、diff の結果は「トピックブランチで新しく追加したすべての内容を追加し、<code>master</code> ブランチにしかないものはすべて削除する」というものになります。</p>

<p>本当に知りたいのはトピックブランチで変更された内容、つまりこのブランチを master にマージしたときに master に加わる変更です。
これを知るには、Git に「トピックブランチの最新のコミット」と「トピックブランチと master ブランチの直近の共通の先祖」とを比較させます。</p>

<p>共通の先祖を見つけだしてそこからの diff を取得するには、このようにします。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git merge-base contrib master
<code class="go">36c7dba2c95e6bbb78dfa822519ecfec6e1ca649</code>
<code class="gp">$</code> git diff 36c7db
</pre>

<p>しかし、これでは不便です。そこで Git には、同じことをより手短にやるための手段としてトリプルドット構文が用意されています。
<code>diff</code> コマンドを実行するときにピリオドを三つ打った後に別のブランチを指定すると、「現在いるブランチの最新のコミット」と「指定した二つのブランチの共通の先祖」とを比較するようになります。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git diff master...contrib
</pre>

<p>このコマンドは、master との共通の先祖から分岐した現在のトピックブランチで変更された内容のみを表示します。
この構文は、覚えやすいので非常に便利です。</p>
</section><section data-type="sect2" id="-mzI4fZTY"><h3 id="提供された作業の取り込み"><a href="#提供された作業の取り込み">提供された作業の取り込み</a></h3>

<p><a data-type="indexterm" data-primary="integrating work" id="id-ewUjsGtJfvTo"></a></p>

<p>トピックブランチでの作業をメインブランチに取り込む準備ができたら、どのように取り込むかを考えることになります。
さらに、プロジェクトを運営していくにあたっての全体的な作業の流れはどのようにしたらいいでしょうか?
さまざまな方法がありますが、ここではそのうちのいくつかを紹介します。</p>










<section data-type="sect3" id="-ZMIJcvflTV"><h4>マージのワークフロー</h4>

<p><a data-type="indexterm" data-primary="workflows" data-secondary="merging" id="id-YnU3sat0cMfbTD"></a></p>

<p>シンプルなワークフローのひとつとして、作業を自分の <code>master</code> ブランチに取り込むことを考えます。
ここでは、<code>master</code> ブランチで安定版のコードを管理しているものとします。
トピックブランチでの作業が一段落したら (あるいは誰かから受け取ったパッチをトピックブランチ上で検証し終えたら)、それを master ブランチにマージしてからトピックブランチを削除し、作業を進めることになります。
<code>ruby_client</code> および <code>php_client</code> の二つのブランチを持つ <a data-type="xref" href="ch00/merwf_a">Figure 5-20</a> のようなリポジトリでまず <code>ruby_client</code> をマージしてから <code>php_client</code> もマージすると、歴史は <a data-type="xref" href="ch00/merwf_b.html">Figure 5-21</a> のようになります。</p>

<figure id="merwf_a"><img src="../../en/v2/book/05-distributed-git/images/merging-workflows-1.png" alt="いくつかのトピックブランチを含む履歴"><figcaption><span class="label">Figure 5-20. </span>いくつかのトピックブランチを含む履歴</figcaption></figure><figure id="merwf_b"><img src="../../en/v2/book/05-distributed-git/images/merging-workflows-2.png" alt="トピックブランチをマージした後の状態"><figcaption><span class="label">Figure 5-21. </span>トピックブランチをマージした後の状態</figcaption></figure><p>これがおそらく一番シンプルなワークフローでしょう。ただし、それが問題になることもあります。大規模プロジェクトや安定しているプロジェクトのように、何を受け入れるかを慎重に決めなければいけない場合です。</p>

<p>より重要なプロジェクトの場合は、二段階のマージサイクルを使うこともあるでしょう。
ここでは、長期間運用するブランチが <code>master</code> と <code>develop</code> のふたつあるものとします。<code>master</code> が更新されるのは安定版がリリースされるときだけで、新しいコードはずべて <code>develop</code> ブランチに統合されるという流れです。
これらのブランチは、両方とも定期的に公開リポジトリにプッシュすることになります。
新しいトピックブランチをマージする準備ができたら (<a data-type="xref" href="ch00/merwf_c.html">Figure 5-22</a>)、それを <code>develop</code> にマージします (<a data-type="xref" href="ch00/merwf_d.html">Figure 5-23</a>)。そしてリリースタグを打つときに、<code>master</code> を現在の <code>develop</code> ブランチが指す位置に進めます (<a data-type="xref" href="ch00/merwf_e.html">Figure 5-24</a>)。</p>

<figure id="merwf_c"><img src="../../en/v2/book/05-distributed-git/images/merging-workflows-3.png" alt="トピックブランチのマージ前"><figcaption><span class="label">Figure 5-22. </span>トピックブランチのマージ前</figcaption></figure><figure id="merwf_d"><img src="../../en/v2/book/05-distributed-git/images/merging-workflows-4.png" alt="トピックブランチのマージ後"><figcaption><span class="label">Figure 5-23. </span>トピックブランチのマージ後</figcaption></figure><figure id="merwf_e"><img src="../../en/v2/book/05-distributed-git/images/merging-workflows-5.png" alt="トピックブランチのリリース後"><figcaption><span class="label">Figure 5-24. </span>プロジェクトのリリース後</figcaption></figure><p>他の人があなたのプロジェクトをクローンするときには、master をチェックアウトすれば最新の安定版をビルドすることができ、その後の更新を追いかけるのも容易にできるようになります。一方 develop をチェックアウトすれば、さらに最先端の状態を取得することができます。
この考え方を推し進めると、統合用のブランチを用意してすべての作業をいったんそこにマージするようにもできます。
統合ブランチ上のコードが安定してテストを通過すれば、それを develop ブランチにマージします。そしてそれが安定していることが確認できたら master ブランチを先に進めるということになります。</p>
</section><section data-type="sect3" id="-XGI6H4f1T5"><h4>大規模マージのワークフロー</h4>

<p><a data-type="indexterm" data-primary="workflows" data-secondary="merging (large)" id="id-PxUlspt5HoflTa"></a></p>

<p>Git 開発プロジェクトには、常時稼働するブランチが四つあります。<code>master</code>、<code>next</code>、そして新しい作業用の <code>pu</code> (proposed updates) とメンテナンスバックポート用の <code>maint</code> です。
新しいコードを受け取ったメンテナは、まず自分のリポジトリのトピックブランチにそれを格納します。先ほど説明したのと同じ方式です ( <a data-type="xref" href="ch00/merwf_f.html">Figure 5-25</a> を参照ください)。
そしてその内容を検証し、安全に取り込める状態かさらなる作業が必要かを見極めます。
だいじょうぶだと判断したらそれを <code>next</code> にマージします。このブランチをプッシュすれば、すべてのメンバーがそれを試せるようになります。</p>

<figure id="merwf_f"><img src="../../en/v2/book/05-distributed-git/images/large-merges-1.png" alt="複数のトピックブランチの並行管理"><figcaption><span class="label">Figure 5-25. </span>複数のトピックブランチの並行管理</figcaption></figure><p>さらに作業が必要なトピックについては、<code>pu</code> にマージします。
完全に安定していると判断されたトピックについては改めて <code>master</code> にマージされ、<code>next</code> にあるトピックのうちまだ <code>master</code> に入っていないものを再構築します。
つまり、<code>master</code> はほぼ常に前に進み、<code>next</code> は時々リベースされ、<code>pu</code> はそれ以上の頻度でリベースされることになります。</p>

<figure id="id-KwfDuXHRf3Te"><img src="../../en/v2/book/05-distributed-git/images/large-merges-2.png" alt="常時稼働する統合用ブランチへのトピックブランチのマージ"><figcaption><span class="label">Figure 5-26. </span>常時稼働する統合用ブランチへのトピックブランチのマージ</figcaption></figure><p>最終的に <code>master</code> にマージされたトピックブランチは、リポジトリから削除します。
Git 開発プロジェクトでは <code>maint</code> ブランチも管理しています。これは最新のリリースからフォークしたもので、メンテナンスリリースに必要なバックポート用のパッチを管理します。
つまり、Git のリポジトリをクローンするとあなたは四つのブランチをチェックアウトすることができるということです。これらのブランチはどれも異なる開発段階を表し、「どこまで最先端を追いかけたいか」「どのように Git プロジェクトに貢献したいか」によって使い分けることになります。メンテナ側では、新たな貢献を受け入れるためのワークフローが整っています。</p>
</section><section data-type="sect3" id="_rebase_cherry_pick"><h4>リベースとチェリーピックのワークフロー</h4>

<p><a data-type="indexterm" data-primary="workflows" data-secondary="rebasing and cherry-picking" id="id-KzUJsJt5uDf1Td"></a></p>

<p>受け取った作業を master ブランチにマージするのではなく、リベースやチェリーピックを使って master ブランチの先端につなげていく方法を好むメンテナもいます。そのほうがほぼ直線的な歴史を保てるからです。
トピックブランチでの作業を終えて統合できる状態になったと判断したら、そのブランチで rebase コマンドを実行し、その変更を現在の master (あるいは <code>develop</code> などの) ブランチの先端につなげます。
うまくいけば、<code>master</code> ブランチをそのまま前に進めてることでプロジェクトの歴史を直線的に進めることができます。</p>

<p><a data-type="indexterm" data-primary="git commands" data-secondary="cherry-pick" id="id-0YU1sWcbudf9Tj"></a></p>

<p>あるブランチの作業を別のブランチに移すための手段として、他にチェリーピック (つまみぐい) という方法があります。
Git におけるチェリーピックとは、コミット単位でのリベースのようなものです。
あるコミットによって変更された内容をパッチとして受け取り、それを現在のブランチに再適用します。
トピックブランチでいくつかコミットしたうちのひとつだけを統合したい場合、あるいはトピックブランチで一回だけコミットしたけれどそれをリベースではなくチェリーピックで取り込みたい場合などにこの方法を使用します。
以下のようなプロジェクトを例にとって考えましょう。</p>

<figure id="id-nwfeuyuxfYT1"><img src="../../en/v2/book/05-distributed-git/images/rebasing-1.png" alt="チェリーピック前の歴史"><figcaption><span class="label">Figure 5-27. </span>チェリーピック前の歴史</figcaption></figure><p>コミット <code>e43a6</code> を master ブランチに取り込むには、次のようにします。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git cherry-pick e43a6fd3e94888d76779ad79fb568ed180e5fcdf
<code class="go">Finished one cherry-pick.</code>
<code class="go">[master]: created a0a41a9: "More friendly message when locking the index fails."</code>
<code class="go"> 3 files changed, 17 insertions(+), 3 deletions(-)</code>
</pre>

<p>これは <code>e43a6</code> と同じ内容の変更を施しますが、コミットの SHA-1 値は新しくなります。適用した日時が異なるからです。
これで、歴史は次のように変わりました。</p>

<figure id="id-vrf0hzu1fWTm"><img src="../../en/v2/book/05-distributed-git/images/rebasing-2.png" alt="トピックブランチのコミットをチェリーピックした後の歴史"><figcaption><span class="label">Figure 5-28. </span>トピックブランチのコミットをチェリーピックした後の歴史</figcaption></figure><p>あとは、このトピックブランチを削除すれば取り込みたくない変更を消してしまうことができます。</p>
</section><section data-type="sect3" id="rerere-NAIyTpfPTl"><h4>Rerere</h4>

<p><a data-type="indexterm" data-primary="git commands" data-secondary="rerere" id="id-n5U9sMtpT3f6TG"></a><a data-type="indexterm" data-primary="rerere" id="id-0YUatRtJTdf9Tj"></a></p>

<p>マージやリベースを頻繁に行っているなら、もしくは長く続いているトピックブランチをメンテナンスしているなら、Git の “rerere” という機能が役に立つでしょう。</p>

<p>Rerere は “reuse recorded resolution” の略で、コンフリクトを手っ取り早く手動で解消するための方法です。</p>

<p>この機能で用いるのは、設定とコマンドの2つです。
まず設定のほうは <code>rerere.enabled</code> という項目を用います。Git のグローバル設定に登録しておくとよいでしょう。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git config --global rerere.enabled <code class="nb">true</code>
</pre>

<p>一度この設定をしておくと、コンフリクトを手動で解消してマージするたびにその内容がキャッシュに記録され、のちのち使えるようになります。</p>

<p>必要に応じてキャッシュを操作することもできます。<code>git rerere</code> コマンドを使うのです。
このコマンドをオプションなしで実行するとキャッシュが検索され、コンフリクトの内容に合致するものがある場合はそれを用いてコンフリクトの解消が試みられます（ただし、<code>rerere.enabled</code> が <code>true</code> に設定されている場合、一連の処理は自動で行われます）。
また、サブコマンドも複数用意されています。それらを使うと、キャッシュされようとしている内容の確認、キャッシュされた内容を指定して削除、キャッシュをすべて削除、などができるようになります。rerere については <a data-type="xref" href="1-git-tools/_rerere.html">Rerere</a> で詳しく説明します。</p>
</section></section><section data-type="sect2" id="_tagging_releases"><h3 id="リリース用のタグ付け"><a href="#リリース用のタグ付け">リリース用のタグ付け</a></h3>

<p><a data-type="indexterm" data-primary="tags" id="id-RbUVsXtKixT5"></a><a data-type="indexterm" data-primary="tags" data-secondary="signing" id="id-WPURtEt5i9TY"></a></p>

<p>いよいよリリースする時がきました。おそらく、後からいつでもこのリリースを取得できるようにタグを打っておくことになるでしょう。
新しいタグを打つ方法は <a data-type="xref" href="1-git-basics/_git_basics_chapter.html">Git の基本</a> で説明しました。
タグにメンテナの署名を入れておきたい場合は、このようにします。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git tag -s v1.5 -m <code class="s1">'my signed 1.5 tag'</code>
<code class="go">You need a passphrase to unlock the secret key for</code>
<code class="go">user: "Scott Chacon &lt;schacon@gmail.com&gt;"</code>
<code class="go">1024-bit DSA key, ID F721C45A, created 2009-02-09</code>
</pre>

<p>タグに署名した場合、署名に使用した PGP 鍵ペアの公開鍵をどのようにして配布するかが問題になるかもしれません。
Git 開発プロジェクトのメンテナ達がこの問題をどのように解決したかというと、自分たちの公開鍵を blob としてリポジトリに含め、それを直接指すタグを追加することにしました。
この方法を使うには、まずどの鍵を使うかを決めるために <code>gpg --list-keys</code> を実行します。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> gpg --list-keys
<code class="go">/Users/schacon/.gnupg/pubring.gpg</code>
<code class="go">---------------------------------</code>
<code class="go">pub   1024D/F721C45A 2009-02-09 [expires: 2010-02-09]</code>
<code class="go">uid                  Scott Chacon &lt;schacon@gmail.com&gt;</code>
<code class="go">sub   2048g/45D02282 2009-02-09 [expires: 2010-02-09]</code>
</pre>

<p>鍵を直接 Git データベースにインポートするには、鍵をエクスポートしてそれをパイプで <code>git hash-object</code> に渡します。これは、鍵の中身を新しい blob として Git に書き込み、その blob の SHA-1 を返します。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> gpg -a --export F721C45A <code class="p">|</code> git <code class="nb">hash</code>-object -w --stdin
<code class="go">659ef797d181633c87ec71ac3f9ba29fe5775b92</code>
</pre>

<p>鍵の中身を Git に取り込めたので、この鍵を直接指定するタグを作成できるようになりました。<code>hash-object</code> コマンドで知った SHA-1 値を指定すればいいのです。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git tag -a maintainer-pgp-pub 659ef797d181633c87ec71ac3f9ba29fe5775b92
</pre>

<p><code>git push --tags</code> を実行すると、<code>maintainer-pgp-pub</code> タグをみんなと共有できるようになります。誰かがタグを検証したい場合は、あなたの PGP 鍵が入った blob をデータベースから直接プルで取得し、それを PGP にインポートすればいいのです。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git show maintainer-pgp-pub <code class="p">|</code> gpg --import
</pre>

<p>この鍵をインポートした人は、あなたが署名したすべてのタグを検証できるようになります。タグのメッセージに検証手順の説明を含めておけば、<code>git show &lt;tag&gt;</code> でエンドユーザー向けに詳しい検証手順を示すことができます。</p>
</section><section data-type="sect2" id="_build_number"><h3 id="ビルド番号の生成"><a href="#ビルド番号の生成">ビルド番号の生成</a></h3>

<p><a data-type="indexterm" data-primary="build numbers" id="id-WPUjsEtLh9TY"></a><a data-type="indexterm" data-primary="git commands" data-secondary="describe" id="id-YnUjtatMhRTo"></a></p>

<p>Git では、コミットごとに <em>v123</em> のような単調な番号を振っていくことはありません。もし特定のコミットに対して人間がわかりやすい名前がほしければ、そのコミットに対して <code>git describe</code> を実行します。
Git は、そのコミットに最も近いタグの名前とそのタグからのコミット数、そしてそのコミットの SHA-1 値の一部を使った名前を作成します。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git describe master
<code class="go">v1.6.2-rc1-20-g8c5b85c</code>
</pre>

<p>これで、スナップショットやビルドを公開するときにわかりやすい名前をつけられるようになります。
実際、Git そのもののソースコードを Git リポジトリからクローンしてビルドすると、<code>git --version</code> が返す結果はこの形式になります。
タグが打たれているコミットを直接指定した場合は、タグの名前が返されます。</p>

<p><code>git describe</code> コマンドは注釈付きのタグ (<code>-a</code> あるいは <code>-s</code> フラグをつけて作成したタグ) を使います。したがって、<code>git describe</code> を使うならリリースタグは注釈付きのタグとしなければなりません。そうすれば、describe したときにコミットの名前を適切につけることができます。
この文字列を checkout コマンドや show コマンドでの対象の指定に使うこともできますが、これは末尾にある SHA-1 値の省略形に依存しているので将来にわたってずっと使えるとは限りません。
たとえば Linux カーネルは、最近 SHA-1 オブジェクトの一意性を確認するための文字数を 8 文字から 10 文字に変更しました。そのため、古い <code>git describe</code> の出力での名前はもはや使えません。</p>
</section><section data-type="sect2" id="_preparing_release"><h3 id="リリースの準備"><a href="#リリースの準備">リリースの準備</a></h3>

<p><a data-type="indexterm" data-primary="releasing" id="id-YnU3satKURTo"></a><a data-type="indexterm" data-primary="git commands" data-secondary="archive" id="id-PxU2tptAUXTD"></a></p>

<p>実際にリリースするにあたって行うであろうことのひとつに、最新のスナップショットのアーカイブを作るという作業があります。
Git を使っていないというかわいそうな人たちにもコードを提供するために。
その際に使用するコマンドは <code>git archive</code> です。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git archive master --prefix<code class="o">=</code><code class="s1">'project/'</code> <code class="p">|</code> gzip &gt; <code class="sb">`</code>git describe master<code class="sb">`</code>.tar.gz
<code class="gp">$</code> ls *.tar.gz
<code class="go">v1.6.2-rc1-20-g8c5b85c.tar.gz</code>
</pre>

<p>tarball を開けば、プロジェクトのディレクトリの下に最新のスナップショットが得られます。まったく同じ方法で zip アーカイブを作成することもできます。
この場合は <code>git archive</code> で <code>--format=zip</code> オプションを指定します。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git archive master --prefix<code class="o">=</code><code class="s1">'project/'</code> --format<code class="o">=</code>zip &gt; <code class="sb">`</code>git describe master<code class="sb">`</code>.zip
</pre>

<p>これで、あなたのプロジェクトのリリース用にすてきな tarball と zip アーカイブができあがりました。これをウェブサイトにアップロードするなりメールで送ってあげるなりしましょう。</p>
</section><section data-type="sect2" id="_the_shortlog"><h3 id="短いログ"><a href="#短いログ">短いログ</a></h3>

<p><a data-type="indexterm" data-primary="git commands" data-secondary="shortlog" id="id-PxUlspt9IXTD"></a></p>

<p>そろそろメーリングリストにメールを送り、プロジェクトに何が起こったのかをみんなに知らせてあげましょう。
前回のリリースから何が変わったのかの変更履歴を手軽に取得するには <code>git shortlog</code> コマンドを使います。
これは、指定した範囲のすべてのコミットのまとめを出力します。たとえば、直近のリリースの名前が v1.0.1 だった場合は、次のようにすると前回のリリース以降のすべてのコミットの概要が得られます。</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git shortlog --no-merges master --not v1.0.1
<code class="go">Chris Wanstrath (8):</code>
<code class="go">      Add support for annotated tags to Grit::Tag</code>
<code class="go">      Add packed-refs annotated tag support.</code>
<code class="go">      Add Grit::Commit#to_patch</code>
<code class="go">      Update version and History.txt</code>
<code class="go">      Remove stray `puts`</code>
<code class="go">      Make ls_tree ignore nils</code>

<code class="go">Tom Preston-Werner (4):</code>
<code class="go">      fix dates in history</code>
<code class="go">      dynamic version method</code>
<code class="go">      Version bump to 1.0.2</code>
<code class="go">      Regenerated gemspec for version 1.0.2</code>
</pre>

<p>v1.0.1 以降のすべてのコミットの概要が、作者別にまとめて得られました。これをメーリングリストに投稿するといいでしょう。</p>
</section><div id="nav"><a href="../Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%b8%e3%81%ae%e8%b2%a2%e7%8c%ae">prev</a> | <a href="Git-%e3%81%a7%e3%81%ae%e5%88%86%e6%95%a3%e4%bd%9c%e6%a5%ad-%e3%81%be%e3%81%a8%e3%82%81.html">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    This <a href="https://github.com/git/git-scm.com/blob/master/README.md#license">open sourced</a> site is <a href="https://github.com/git/git-scm.com">hosted on GitHub.</a><br>
    Patches, suggestions and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="http://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>







    </div>

</body>
</html>
